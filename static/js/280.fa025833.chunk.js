"use strict";(self.webpackChunkexp_movie_frontend=self.webpackChunkexp_movie_frontend||[]).push([[280],{280:function(r,e,n){n.r(e);var a=n(4165),t=n(5861),o=n(885),s=n(2791),i=n(3457),c=n(4554),u=n(6151),l=n(890),d=n(1134),p=n(3504),f=n(6871),h=n(9105),v=n(7495),m=n(4574),b=n(2600),x=n(184),C=m.cM,w=(0,i.Z)(c.Z)((function(r){var e=r.theme;return C.loginBox(e)})),g=(0,i.Z)(u.Z)(C.loginButton);e.default=function(){var r=(0,s.useState)(!1),e=(0,o.Z)(r,2),n=e[0],i=e[1],u=(0,s.useState)(!1),m=(0,o.Z)(u,2),k=m[0],Z=m[1],j=(0,p.lr)(),S=(0,o.Z)(j,1)[0],y=(0,h.Ds)().enqueueSnackbar,P=(0,f.s0)(),q=(0,d.cI)({confirmPassword:"",password:""}),I=q.control,_=q.handleSubmit,B=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(e){var n,t,o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.password===e.confirmPassword){r.next=4;break}return y("Contrase\xf1as no coinciden",{variant:"error"}),r.abrupt("return");case 4:return n={hash:S.get("hash"),pwd:(0,b.Pu)(e.password)},Z(!0),r.next=8,b.bl.change(n);case 8:P("/login"),Z(!1),r.next=26;break;case 12:r.prev=12,r.t0=r.catch(0),t=r.t0.status,o=r.t0.data,r.t1=t,r.next=400===r.t1?18:401===r.t1?20:500===r.t1?22:24;break;case 18:return y(o.msg,{variant:"error"}),r.abrupt("break",25);case 20:return y("Hash incorrecto, intente nuevamente el proceso",{variant:"error"}),r.abrupt("break",25);case 22:return y("Error Interno",{variant:"error"}),r.abrupt("break",25);case 24:y("Error Interno",{variant:"error"});case 25:Z(!1);case 26:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();return(0,x.jsxs)(v.Ar,{isLoading:k,children:[(0,x.jsx)(v.C7,{}),(0,x.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",sx:C.mainBox,children:(0,x.jsxs)(w,{onSubmit:_(B),children:[(0,x.jsx)(l.Z,{variant:"h4",body:"h1",sx:C.titleLogin,children:"Cambiar contrase\xf1a"}),(0,x.jsxs)(l.Z,{variant:"p2",body:"p",sx:C.messageLogin,children:["Cambio de contrase\xf1a para el usuario ",S.get("email")]}),(0,x.jsx)(v.CM,{name:"password",label:"Contrase\xf1a:",placeholder:"Contrase\xf1a",showPwd:n,setShowPwd:function(){return i((function(r){return!r}))},control:I,classes:C.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(r){return r&&/^\S*$/.test(r)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(r){return r.replace(/\s/g,"")}}),(0,x.jsx)(v.CM,{name:"confirmPassword",label:"Confirmar Contrase\xf1a:",placeholder:"ConfirmarContrase\xf1a",showPwd:n,setShowPwd:function(){return i((function(r){return!r}))},control:I,classes:C.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(r){return r&&/^\S*$/.test(r)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(r){return r.replace(/\s/g,"")}}),(0,x.jsx)(g,{variant:"primary",type:"submit",children:"Cambiar"}),(0,x.jsx)(g,{variant:"secondary",onClick:function(){return P("/login")},children:"Volver"})]})})]})}}}]);
//# sourceMappingURL=280.fa025833.chunk.js.map