"use strict";(self.webpackChunkexp_movie_frontend=self.webpackChunkexp_movie_frontend||[]).push([[267],{9267:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),o=t(885),i=t(2791),s=t(3457),u=t(6151),c=t(4554),l=t(890),d=t(1134),p=t(3504),m=t(6871),f=t(9105),v=t(7495),h=t(4574),x=t(2600),b=t(184),g=h.s6,C=(0,s.Z)("form")((function(e){var r=e.theme;return g.loginBox(r)})),S=(0,s.Z)(u.Z)(g.loginButton),k=(0,s.Z)(p.rU)(g.forgotPwd);r.default=function(){var e=(0,i.useState)(!1),r=(0,o.Z)(e,2),t=r[0],s=r[1],u=(0,i.useState)(!1),p=(0,o.Z)(u,2),h=p[0],w=p[1],j=(0,f.Ds)().enqueueSnackbar,Z=(0,m.s0)(),y=(0,d.cI)({email:"",password:""}),I=y.control,q=y.handleSubmit,P=y.setError,L=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={usr:r.email,pwd:(0,x.Pu)(r.password)},w(!0),e.next=5,x.bl.login(t);case 5:a=e.sent,localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("sessionid",a.sessionid),Z("/"),w(!1),e.next=28;break;case 12:e.prev=12,e.t0=e.catch(0),o=e.t0.status,i=e.t0.data,e.t1=o,e.next=400===e.t1?18:403===e.t1?20:405===e.t1?22:500===e.t1?24:26;break;case 18:return j(i.msg,{variant:"error"}),e.abrupt("break",27);case 20:return j("Datos incorrectos o usuario no existe",{variant:"error"}),e.abrupt("break",27);case 22:return P("email",{type:"custom",message:"Formato de correo incorrecto"}),e.abrupt("break",27);case 24:return j("Error Interno",{variant:"error"}),e.abrupt("break",27);case 26:j("Error Interno",{variant:"error"});case 27:w(!1);case 28:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}();return(0,b.jsxs)(v.Ar,{isLoading:h,children:[(0,b.jsx)(v.C7,{}),(0,b.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",sx:g.mainBox,children:(0,b.jsxs)(C,{onSubmit:q(L),children:[(0,b.jsx)(l.Z,{variant:"h4",body:"h1",sx:g.titleLogin,children:"Movie Login"}),(0,b.jsx)(v.M5,{name:"email",label:"Correo:",className:g.inputForm,control:I,validations:{required:"Campo requerido",validate:{email:function(e){return e&&/\S+@\S+\.\S+/.test(e)||"Correo inv\xe1lido"}}},fullWidth:!0,placeholder:"Correo",inputProps:{maxLength:128,inputMode:"email"},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}}),(0,b.jsx)(v.CM,{name:"password",label:"Contrase\xf1a:",placeholder:"Contrase\xf1a",showPwd:t,setShowPwd:function(){return s((function(e){return!e}))},control:I,classes:g.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(e){return e&&/^\S*$/.test(e)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}}),(0,b.jsx)(S,{variant:"primary",type:"submit",children:"Iniciar sesi\xf3n"}),(0,b.jsx)(S,{variant:"secondary",onClick:function(){return Z("/register")},children:"Registrarse"}),(0,b.jsx)(k,{to:"/forgot",children:"Olvide mi contrase\xf1a"})]})})]})}}}]);
//# sourceMappingURL=267.98dfc3de.chunk.js.map