"use strict";(self.webpackChunkexp_movie_frontend=self.webpackChunkexp_movie_frontend||[]).push([[19],{19:function(e,r,n){n.r(r);var a=n(4165),t=n(5861),i=n(885),o=n(1413),s=n(2791),l=n(3457),c=n(4554),u=n(6151),d=n(890),m=n(1889),p=n(1134),f=n(6871),h=n(9105),x=n(7495),v=n(4574),C=n(2600),g=n(184),b=v.hC,Z=(0,l.Z)(c.Z)((function(e){var r=e.theme;return(0,o.Z)((0,o.Z)({},b.loginBox(r)),b.registerBox(r))})),w=(0,l.Z)(u.Z)((0,o.Z)((0,o.Z)({},b.loginButton),b.registerregisterBtn)),j=(0,l.Z)(u.Z)(b.loginButton);r.default=function(){var e=(0,s.useState)(!1),r=(0,i.Z)(e,2),n=r[0],o=r[1],l=(0,s.useState)(!1),u=(0,i.Z)(l,2),v=u[0],P=u[1],k=(0,h.Ds)().enqueueSnackbar,S=(0,f.s0)(),q=(0,p.cI)({email:"",name:"",confirmPassword:"",password:""}),y=q.control,B=q.handleSubmit,F=q.setError,M=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r){var n,t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.password===r.confirmPassword){e.next=4;break}return k("Contrase\xf1as no coinciden",{variant:"error"}),e.abrupt("return");case 4:return n={usr:r.email,name:r.name,pwd:(0,C.Pu)(r.password)},P(!0),e.next=8,C.bl.register(n);case 8:k("Usuario registrado correctamente",{variant:"success"}),S("/login"),P(!1),e.next=29;break;case 13:e.prev=13,e.t0=e.catch(0),t=e.t0.status,i=e.t0.data,e.t1=t,e.next=400===e.t1?19:402===e.t1?21:405===e.t1?23:500===e.t1?25:27;break;case 19:case 21:return k(i.msg,{variant:"error"}),e.abrupt("break",28);case 23:return F("email",{type:"custom",message:"Formato de correo incorrecto"}),e.abrupt("break",28);case 25:return k("Error Interno",{variant:"error"}),e.abrupt("break",28);case 27:k("Error Interno",{variant:"error"});case 28:P(!1);case 29:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}();return(0,g.jsxs)(x.Ar,{isLoading:v,children:[(0,g.jsx)(x.C7,{}),(0,g.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",sx:b.mainBox,children:(0,g.jsxs)(Z,{children:[(0,g.jsx)(d.Z,{variant:"h4",body:"h1",sx:b.titleLogin,children:"Registro de usuario"}),(0,g.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(x.M5,{name:"email",label:"Correo:",className:b.inputForm,control:y,validations:{required:"Campo requerido",validate:{email:function(e){return e&&/\S+@\S+\.\S+/.test(e)||"Correo inv\xe1lido"}}},fullWidth:!0,placeholder:"Correo",inputProps:{maxLength:128,inputMode:"email"},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}})}),(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(x.M5,{name:"name",label:"Nombre de usuario",className:b.inputForm,control:y,validations:{required:"Campo requerido"},fullWidth:!0,placeholder:"Nombre de usuario",inputProps:{maxLength:64},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}})}),(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(x.CM,{name:"password",label:"Contrase\xf1a:",placeholder:"Contrase\xf1a",showPwd:n,setShowPwd:function(){return o((function(e){return!e}))},control:y,classes:b.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(e){return e&&/^\S*$/.test(e)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}})}),(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(x.CM,{name:"confirmPassword",label:"Confirmar Contrase\xf1a:",placeholder:"Confirmar Contrase\xf1a",showPwd:n,setShowPwd:function(){return o((function(e){return!e}))},control:y,classes:b.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(e){return e&&/^\S*$/.test(e)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(e){return e.replace(/\s/g,"")}})})]}),(0,g.jsx)(w,{variant:"primary",onClick:B(M),children:"Registrarse"}),(0,g.jsx)(j,{variant:"secondary",onClick:function(){return S("/login")},children:"Volver"})]})})]})}}}]);
//# sourceMappingURL=19.5a2e3247.chunk.js.map