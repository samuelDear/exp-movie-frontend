"use strict";(self.webpackChunkexp_movie_frontend=self.webpackChunkexp_movie_frontend||[]).push([[280],{280:function(r,e,n){n.r(e);var a=n(4165),t=n(5861),o=n(885),s=n(2791),i=n(3457),c=n(4554),u=n(6151),l=n(890),d=n(1134),p=n(3504),f=n(6871),h=n(9105),v=n(7495),m=n(4574),x=n(2600),b=n(184);e.default=function(){var r=(0,s.useState)(!1),e=(0,o.Z)(r,2),n=e[0],C=e[1],w=(0,s.useState)(!1),g=(0,o.Z)(w,2),k=g[0],Z=g[1],j=m.cM,S=(0,i.Z)(c.Z)((function(r){var e=r.theme;return j.loginBox(e)})),P=(0,i.Z)(u.Z)(j.loginButton),y=(0,p.lr)(),q=(0,o.Z)(y,1)[0],I=(0,h.Ds)().enqueueSnackbar,_=(0,f.s0)(),B=(0,d.cI)({confirmPassword:"",password:""}),L=B.control,M=B.handleSubmit,E=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(e){var n,t,o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.password===e.confirmPassword){r.next=4;break}return I("Contrase\xf1as no coinciden",{variant:"error"}),r.abrupt("return");case 4:return n={hash:q.get("hash"),pwd:(0,x.Pu)(e.password)},Z(!0),r.next=8,x.bl.change(n);case 8:_("/login"),Z(!1),r.next=26;break;case 12:r.prev=12,r.t0=r.catch(0),t=r.t0.status,o=r.t0.data,r.t1=t,r.next=400===r.t1?18:401===r.t1?20:500===r.t1?22:24;break;case 18:return I(o.msg,{variant:"error"}),r.abrupt("break",25);case 20:return I("Hash incorrecto, intente nuevamente el proceso",{variant:"error"}),r.abrupt("break",25);case 22:return I("Error Interno",{variant:"error"}),r.abrupt("break",25);case 24:I("Error Interno",{variant:"error"});case 25:Z(!1);case 26:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();return(0,b.jsxs)(v.Ar,{isLoading:k,children:[(0,b.jsx)(v.C7,{}),(0,b.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",sx:j.mainBox,children:(0,b.jsxs)(S,{children:[(0,b.jsx)(l.Z,{variant:"h4",body:"h1",sx:j.titleLogin,children:"Cambiar contrase\xf1a"}),(0,b.jsxs)(l.Z,{variant:"p2",body:"p",sx:j.messageLogin,children:["Cambio de contrase\xf1a para el usuario ",q.get("email")]}),(0,b.jsx)(v.CM,{name:"password",label:"Contrase\xf1a:",placeholder:"Contrase\xf1a",showPwd:n,setShowPwd:function(){return C((function(r){return!r}))},control:L,classes:j.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(r){return r&&/^\S*$/.test(r)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(r){return r.replace(/\s/g,"")}}),(0,b.jsx)(v.CM,{name:"confirmPassword",label:"Confirmar Contrase\xf1a:",placeholder:"ConfirmarContrase\xf1a",showPwd:n,setShowPwd:function(){return C((function(r){return!r}))},control:L,classes:j.inputForm,fullWidth:!0,validations:{required:"Campo requerido",validate:{noSpaces:function(r){return r&&/^\S*$/.test(r)||"Contrase\xf1a inv\xe1lida"}}},variant:"filled",replace:function(r){return r.replace(/\s/g,"")}}),(0,b.jsx)(P,{variant:"primary",onClick:M(E),children:"Cambiar"}),(0,b.jsx)(P,{variant:"secondary",onClick:function(){return _("/login")},children:"Volver"})]})})]})}}}]);
//# sourceMappingURL=280.528a2f70.chunk.js.map